## 帮助文档

### 主页

#### 选取文件

> 选择文件夹进行读取，wallpaper创意工坊文件夹路径一般为*\steam\steamapps\workshop\content\431960

#### 清空

> 只清理缓存，不对读取的文件做操作

#### 类型

- 视频
- 场景
- 应用程序（wallpaper里基本上都是病毒，实在不行用沙盒玩，虽然沙盒也有漏洞，但好过裸奔）
- 其他（网页以及未标注类型的，wallpaper里的网页引入的js也是很多莫名的代码，挖矿以及请求莫名其妙的节点，如果只要里边的图片和视频，先把里边的html，js，css文件删了）

#### 排序

- 日期
- 评级
- 文件大小
- 标题
- 文件名
- 阅读量
- 视频时长，非视频类型默认为0

#### 过滤

- 标签
- ‘选取文件’获取过的文件夹，可刷新和清理单个读取的文件夹

#### 设置

- 需要复制去的路径（wallpaper会对本地的订阅他人的文件进行更改和删除，可以复制到别的地方）
- 用[ffmpeg](https://github.com/FFmpeg)进行视频刚改的简单配置

    > size为视频分辨率，vcodec为解码器，fps为帧率

- 用whisper.cpp对视频进行语音转文字的简单配置，[whisper-cpp](https://github.com/ggerganov/whisper.cpp)虽然没有[whisper](https://github.com/openai/whisper)好用，但不用考虑兼容性。。。用显卡倒是比cpu快，但考虑各种显卡的驱动。。。
    > 慢的让人无语，模型越大质量越好也越慢;  
    > 翻译几乎没用，ai模型没有想象中好用，当然也可以自己弄一个ai模型;  
    > ai模型下载地址有墙：<https://huggingface.co/ggerganov/whisper.cpp>;  
    > 可以自己手动下载ai模型到应用文件夹(*\viewer\resources\app\whisper-cpp\model);
    > ____________________
    > 其实能看到字幕的方式挺多的，手机上挺多这个功能的，window11微软提供实时字幕功能，下载个Potplayer播放器也有实时字幕功能，还带翻译。当然，这些都是边看边翻译的。
- wallpaper.exe 的路径，第一次进应用当路径为空时，会自动查询电脑注册表看有没有该路径并设置（很慢）。也可手动设置路径。

#### 功能

- 输出读取文件夹内的数据json到读取文件夹的同层路径
- 批量处理展示的视频
- 批量解压展示的场景，来源[repkg](https://github.com/notscuffed/repkg)
- 批量复制展示的内容到已选好的复制路径
- 批量删除展示的内容，密码665533，直接删除，不经过回收站
- 获取展示的视频类型的时长
- 清除已经操作完成的状态
- 合并视频，ffmepg -filter_complex 实现视频concat，相同编码下不进行解码还是蛮快的。解码真太慢了，cpu还吃满。
- 局域网内服务，局域网内创建一个网站，可在局域网内查看展示的内容，网站密码665533

#### 搜索

> 只搜索‘标题’、‘文件名’、‘描述’的内容，会显示总数和总大小，输入665533会弹出浏览器F12调试

#### 新建项目

> 会有默认封面的一个项目，只有两种类型，视频和其他，视频类型只需要一个视频文件路径，其他类型需要保存的文件夹路径

#### 内容方块功能

- 点击图片打开内容详情页
- 资源管理器内打开文件夹
- 删除，确认后直接删除，不经过回收站
- 狗头评级
- 修改标题，描述，标签
- 解压场景pkg
- 压缩视频，仅限视频类型
- 制作字幕，仅限视频类型
- wallpaper内打开项目，只支持场景和视频类型
- 复制

### 内容详情页

#### 视频

> 右下角设置按钮及不兼容格式时左上的按钮组

- 设置当前帧为主页预览图片
- 视频按照时间点切割成几段（ffmpeg并不能精准到秒切割视频），删掉所有时间点勾选libx264可修改视频格式
- 在资源管理器内打开视频所在路径
- 在[mpv](https://github.com/mpv-player/mpv)播放器内打开视频（格式兼容比纯浏览器多）

#### 图片
>
> 左上的按钮组

- 设置当前图片为主页预览图片
- 在资源管理器内打开图片所在路径
